{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const container = document.querySelector(\".container\")\nconsole.log(container);\nconst formUp = `<form class=\"feedback-form\" autocomplete=\"off\">\n<label class=\"form-label\">\nEmail\n<input class=\"form-input\" type=\"email\" name=\"email\" autofocus />\n</label>\n<label class=\"form-label\">\nMessage\n<textarea class=\"form-textarea\" name=\"message\" rows=\"8\"></textarea>\n</label>\n<button class=\"form-button\" type=\"submit\">Submit</button>\n</form>`;\n\nlet formData = { email: \"\", message: \"\" };\ncontainer.insertAdjacentHTML(\"beforeend\", formUp);\n\nconst form = document.querySelector(\".feedback-form\");\nconst textarea = form.querySelector(\".form-textarea\");\n\nconst LS_KEY = \"feedback-form-state\";\n\npopulateFormFields();\n\nform.addEventListener(\"input\", (event) => {\n    if (event.target.name) {\n        formData[event.target.name] = event.target.value;\n        localStorage.setItem(LS_KEY, JSON.stringify(formData));\n    }\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    if (!formData.email || !formData.message) {\n        alert(\"Fill please all fields\");\n        return;\n    }\n\n    console.log(\"Відправлено:\", formData);\n\n    event.currentTarget.reset();\n    localStorage.removeItem(LS_KEY);\n    formData = { email: \"\", message: \"\" };\n});\n\nfunction populateFormFields() {\n    const message = localStorage.getItem(LS_KEY);\n    if (message) {\n        formData = JSON.parse(message);\n\n\n        Object.keys(formData).forEach((key) => {\n            const input = form.querySelector(`[name=\"${key}\"]`);\n            if (input) {\n                input.value = formData[key];\n            }\n        });\n    }\n}"],"names":["container","formUp","formData","form","LS_KEY","populateFormFields","event","message","key","input"],"mappings":"wFAAA,MAAMA,EAAY,SAAS,cAAc,YAAY,EACrD,QAAQ,IAAIA,CAAS,EACrB,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAYf,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACvCF,EAAU,mBAAmB,YAAaC,CAAM,EAEhD,MAAME,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,gBAAgB,EAEpD,MAAMC,EAAS,sBAEfC,IAEAF,EAAK,iBAAiB,QAAUG,GAAU,CAClCA,EAAM,OAAO,OACbJ,EAASI,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQF,EAAQ,KAAK,UAAUF,CAAQ,CAAC,EAE7D,CAAC,EAEDC,EAAK,iBAAiB,SAAWG,GAAU,CAGvC,GAFAA,EAAM,eAAc,EAEhB,CAACJ,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IAAI,eAAgBA,CAAQ,EAEpCI,EAAM,cAAc,QACpB,aAAa,WAAWF,CAAM,EAC9BF,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACvC,CAAC,EAED,SAASG,GAAqB,CAC1B,MAAME,EAAU,aAAa,QAAQH,CAAM,EACvCG,IACAL,EAAW,KAAK,MAAMK,CAAO,EAG7B,OAAO,KAAKL,CAAQ,EAAE,QAASM,GAAQ,CACnC,MAAMC,EAAQN,EAAK,cAAc,UAAUK,CAAG,IAAI,EAC9CC,IACAA,EAAM,MAAQP,EAASM,CAAG,EAE1C,CAAS,EAET"}